language: cpp
sudo: required
dist: trusty
matrix:
  include:
    - compiler: gcc
      env: PLATFORM=device
    - compiler: clang
      env: PLATFORM=simulator

os: linux
before_install:
- sudo apt-add-repository -y 'deb http://archive.ubuntu.com/ubuntu trusty main universe multiverse restricted'
- sudo apt-get -qq update
- sudo apt-get -y install gcc-arm-none-eabi
  # g++7.2
- if [ "$CXX" = "g++" ]; then sudo add-apt-repository ppa:ubuntu-toolchain-r/test g++-6; fi
- if [ "$CXX" = "g++" ]; then sudosudo apt-get update -qq g++-6; fi
- if [ "$CXX" = "g++" ]; then sudo apt-get install -qq g++-6; fi
- if [ "$CXX" = "g++" ]; then export CXX="g++-6"; fi
  # clang 3.4
- if [ "$CXX" == "clang++" ]; then sudo apt-get install --allow-unauthenticated -qq clang-3.4; fi
- if [ "$CXX" == "clang++" ]; then export CXX="clang++-3.4"; fi
script:
- $CXX --version
- make clean && make app.elf
